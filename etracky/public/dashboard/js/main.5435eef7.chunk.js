(this["webpackJsonpdashboard-app"]=this["webpackJsonpdashboard-app"]||[]).push([[0],{156:function(e,t,a){},158:function(e,t,a){},164:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(13),s=a.n(r),i=(a(156),a(17)),o=a.n(i),l=a(28),u=a(131),d=a.n(u),j=a(132),h=a.n(j),b=a(133),p=a.n(b),x=(a(158),a(265)),f=a(56),m=a(4);var O=function(){var e={large:{fontSize:"3.5rem",color:"white"}},t=localStorage.getItem("username");function a(){return(a=Object(l.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/dashboard/".concat(t,"/logout"));case 2:return a=e.sent,e.next=5,a.json();case 5:e.sent&&(window.location.href="/");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)("aside",{className:"sidebar",children:[Object(m.jsx)("div",{className:"sidebar__logout",style:{color:"#fff"},children:Object(m.jsx)("span",{onClick:function(){return a.apply(this,arguments)},children:"Logout"})}),Object(m.jsxs)("div",{className:"menus-wrapper",children:[Object(m.jsx)(f.b,{to:"/",children:Object(m.jsxs)("div",{className:"sidebar__home",children:[Object(m.jsx)(x.a,{children:Object(m.jsx)(d.a,{style:e.large})}),Object(m.jsx)("span",{className:"sidebar__icon-title",children:"Home"})]})}),Object(m.jsx)(f.b,{to:"/analytics",children:Object(m.jsxs)("div",{className:"sidebar__analytics",children:[Object(m.jsx)(x.a,{children:Object(m.jsx)(h.a,{style:e.large})}),Object(m.jsx)("span",{className:"sidebar__icon-title",children:"Analytics"})]})}),Object(m.jsx)(f.b,{to:"/weighttracker",children:Object(m.jsxs)("div",{className:"sidebar__support",children:[Object(m.jsx)(x.a,{children:Object(m.jsx)(p.a,{style:e.large})}),Object(m.jsx)("span",{className:"sidebar__icon-title",children:"Weight Log"})]})})]})]})},_=a(29),g=a(27),v=(a(164),a(134));var w=function(e){var t=e.weightDataContent;return Object(c.useEffect)((function(){})),Object(m.jsx)(v.Line,{data:t})};var y=function(){var e=localStorage.getItem("username"),t=Object(c.useState)([]),a=Object(g.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)([]),i=Object(g.a)(s,2),o=i[0],l=i[1];Object(c.useEffect)((function(){fetch("/dashboard/".concat(e,"/exercises")).then((function(e){return e.json()})).then((function(e){return r(e.exercises)})).catch((function(e){return r([])}))}),[e]),Object(c.useEffect)((function(){fetch("/dashboard/".concat(e,"/chartdata")).then((function(e){return e.json()})).then((function(e){return l(e.chartData)})).catch((function(e){return l([])}))}),[e]);var u=n.filter((function(e){return e.completed})).length,d=new Date,j=n.filter((function(e){return new Date(e.date).getTime()<=d.getTime()})).length,h={labels:Object(_.a)(o),datasets:[{label:"Weight Tracker",data:Object(_.a)(o),backgroundColor:["#3B3B98"],borderColor:["#EAB543"],borderWidth:1}]};return Object(m.jsxs)("aside",{className:"analytics",children:[Object(m.jsxs)("div",{className:"analytics__wrapperTop",children:[Object(m.jsxs)("div",{className:"analytics__cardTop",children:[Object(m.jsx)("h2",{className:"analytics__cardTop__heading analytics__cardTop__headingCompleted",children:"Completed"}),Object(m.jsx)("h3",{className:"analytics__cardTop__content",children:u})]}),Object(m.jsxs)("div",{className:"analytics__cardTop",children:[Object(m.jsx)("h2",{className:"analytics__cardTop__heading analytics__cardTop__headingMissing",children:"Missing"}),Object(m.jsx)("h3",{className:"analytics__cardTop__content",children:j})]}),Object(m.jsxs)("div",{className:"analytics__cardTop",children:[Object(m.jsx)("h2",{className:"analytics__cardTop__heading analytics__cardTop__headingTotal",children:"Total"}),Object(m.jsx)("h3",{className:"analytics__cardTop__content",children:n.length})]})]}),Object(m.jsx)("div",{className:"analytics__wrapperBottom",children:Object(m.jsx)("div",{className:"analytics__cardBottom analytics__cardBottom",children:Object(m.jsx)(w,{weightDataContent:h})})})]})},N=a(298),k=a(135),T=a.n(k),D=a(136),C=a.n(D);var S=function(e){var t=e.functions,a=t.removeExercise,n=t.checkExerciseBox,r=t.updateExerciseName,s=e.exercise,i=s.date,o=s.exerciseName,l=s.id,u=s.completed,d=Object(c.useState)(!1),j=Object(g.a)(d,2),h=j[0],b=j[1],p=Object(c.useRef)(),f=new Date(i).getTime()<=(new Date).getTime(),O=u?"workoutlog__exercise exercise-completed":"workoutlog__exercise";return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("li",{className:O,children:[Object(m.jsxs)("div",{className:"util-div",children:[Object(m.jsx)("input",{type:"checkbox",onChange:function(){return n(l)},checked:u,className:"workoutlog__exerciseCompleted"}),!h&&Object(m.jsxs)("p",{className:f&&!u?"missing workoutlog__exerciseName":"workoutlog__exerciseName",children:[o," ",Object(m.jsx)("span",{})]}),h&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("input",{ref:p,className:"workoutlog__exerciseEditor",type:"text",placeholder:"Edit exercise name"}),Object(m.jsx)("button",{onClick:function(){var e=p.current.value;e&&(b(!h),r(l,e))},className:"workoutlog__exerciseEditor__submit util-pillBtn",children:"Update"})]})]}),Object(m.jsx)("div",{className:"workoutlog__exerciseContent",children:Object(m.jsxs)("span",{className:"workoutlog__exerciseDate",children:["Due: ",new Date(i).toLocaleDateString()," (",new Date(i).toLocaleTimeString(),")"]})}),Object(m.jsxs)("div",{className:"workoutlog__exerciseIcons",children:[Object(m.jsx)(x.a,{onClick:function(){a(l)},children:Object(m.jsx)(T.a,{style:{fontSize:"3rem",color:"#e74c3c"}})}),Object(m.jsx)(x.a,{onClick:function(){return b(!h)},children:Object(m.jsx)(C.a,{style:{fontSize:"3rem",color:"#2980b9"}})})]})]},l)})},E=a(137),B=a(16),A=a(295),I=a(301);var L=function(e){var t=e.exerciseDate,a=e.handleDateChange;return Object(m.jsxs)(B.a,{utils:E.a,children:[Object(m.jsx)(A.a,{disableToolbar:!0,minDate:new Date,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Select Date",value:t,onChange:a,KeyboardButtonProps:{"aria-label":"change date"}}),Object(m.jsx)(I.a,{disablePast:!0,margin:"normal",id:"time-picker",label:"Select Time",value:t,minDate:new Date,onChange:a,KeyboardButtonProps:{"aria-label":"change time"}})]})};a(260);var P=function(){var e=Object(c.useState)([]),t=Object(g.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!0),s=Object(g.a)(r,2),i=s[0],u=s[1],d=Object(c.useState)((new Date).toLocaleDateString()),j=Object(g.a)(d,2),h=j[0],b=j[1],p=Object(c.useRef)(),x=Object(c.useRef)(),f=localStorage.getItem("username"),O=(new Date).toDateString();function v(e){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=(c=Object(_.a)(a)).filter((function(e){return e.id!==t})),e.next=4,C(c,"DELETE");case 4:n(c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return(k=Object(l.a)(o.a.mark((function e(t){var c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(_.a)(a),(r=c.find((function(e){return e.id===t}))).completed=!r.completed,console.log(c),e.next=6,C(c,"PATCH");case 6:n(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(o.a.mark((function e(t,c){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(_.a)(a),r.find((function(e){return e.id===t})).exerciseName=c,e.next=5,C(r,"PATCH");case 5:n(r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(o.a.mark((function e(t,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c={method:a,headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({exercises:t})};try{fetch("/dashboard/".concat(f,"/exercises"),c)}catch(r){console.error(r),n([])}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(l.a)(o.a.mark((function e(){var t,c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.current.value,!(""===t||null===t)){e.next=4;break}return e.abrupt("return");case 4:return c=Object(_.a)(a),console.log(h),r={exerciseName:t,completed:!1,date:h,id:Object(N.a)()},c.push(r),e.next=10,C(c,"PATCH");case 10:n(c),(s=x.current).scrollTop=s.scrollHeight;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){fetch("/dashboard/".concat(f,"/exercises")).then((function(e){return u(!1),e.json()})).then((function(e){n(e.exercises)})).catch((function(e){console.error(e),n([]),u(!1)}))}),[f]),Object(m.jsxs)("aside",{className:"workoutlog",children:[Object(m.jsxs)("h3",{className:"workoutlog__heading",children:["Today is ",Object(m.jsx)("span",{children:O})]}),Object(m.jsxs)("div",{className:"workoutlog__add",children:[Object(m.jsxs)("div",{className:"workoutlog__inputsWrapper",children:[Object(m.jsx)("input",{ref:p,className:"workoutlog__addInput workoutlog__input util-pillBtn",placeholder:"Exercise Name"}),Object(m.jsx)(L,{exerciseDate:h,handleDateChange:function(e){b(e)}})]}),!i&&Object(m.jsx)("button",{onClick:function(){return B.apply(this,arguments)},className:"workoutlog__addSubmit util-pillBtn",children:"Add Exercise"})]}),i&&Object(m.jsx)("div",{className:"loader"}),Object(m.jsx)("ul",{ref:x,className:"workoutlog__exerciseWrapper",children:a.map((function(e){return Object(m.jsx)(S,{container:x,functions:{removeExercise:v,checkExerciseBox:y,updateExerciseName:T},exercise:e},e.id)}))})]})};a(261);var W=function(){var e=Object(c.useState)([]),t=Object(g.a)(e,2),a=t[0],n=t[1],r=localStorage.getItem("username");Object(c.useEffect)((function(){fetch("/dashboard/".concat(r,"/chartdata")).then((function(e){return e.json()})).then((function(e){return n(e.chartData)})).catch((function(e){return n([])}))}),[r]);var s={labels:Object(_.a)(a),datasets:[{label:"Weight Tracker",data:a,backgroundColor:["#3B3B98"],borderColor:["#EAB543"],borderWidth:1}]},i=Object(c.useRef)();function u(e){return d.apply(this,arguments)}function d(){return(d=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={method:"PATCH",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({chartData:t})},console.log(a);try{fetch("/dashboard/".concat(r,"/chartdata"),a)}catch(c){n([])}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(l.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Number(i.current.value),!isNaN(t)){e.next=3;break}return e.abrupt("return");case 3:return(c=Object(_.a)(a)).push(t),n(c),i.current.value="",e.next=9,u(c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)("aside",{className:"weighttracker",children:[Object(m.jsxs)("div",{className:"weighttracker__add",children:[Object(m.jsxs)("div",{className:"util-flex",children:[Object(m.jsx)("input",{ref:i,placeholder:"Add weight entry",className:"weighttracker__addEntry util-pillBtn"}),Object(m.jsx)("span",{className:"weight-unit",children:"Kg"})]}),Object(m.jsx)("button",{onClick:function(){return j.apply(this,arguments)},className:"add-new-entry util-pillBtn",children:"Submit"})]}),Object(m.jsx)("div",{className:"graph-wrapper",children:Object(m.jsx)(w,{weightDataContent:s})})]})},H=a(15);a(262);var M=function(){return Object(m.jsx)(f.a,{children:Object(m.jsxs)("section",{className:"dashboard",children:[Object(m.jsx)(O,{}),Object(m.jsxs)("div",{className:"dashboard__content",children:[Object(m.jsx)(H.a,{path:"/",component:P,exact:!0}),Object(m.jsx)(H.a,{path:"/analytics",component:y}),Object(m.jsx)(H.a,{path:"/weighttracker",component:W})]})]})})};s.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(M,{})}),document.getElementById("root"))}},[[263,1,2]]]);
//# sourceMappingURL=main.5435eef7.chunk.js.map